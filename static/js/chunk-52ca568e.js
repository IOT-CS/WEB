(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-52ca568e"],{"281a":function(t,o,c){"use strict";c("66978")},6697:function(t,o,c){"use strict";c.r(o);var i={data:function(){return{topicVal:"",topicOpt:[],command:"",socket:"",loading:!1,total:["数据订阅日志，推送采集数据"," "],websock:null,logCount:1}},computed:{paramsTopic:function(){var t="";return void 0!==this.$route.query.topic&&""!==this.$route.query.topic&&(t=this.$route.query.topic),t}},mounted:function(){var t=this;this.socket=new this.$socket(WGURL.ws,WGURL.wsPort),this.socket.createConnection(),this.socket.setSubLog=function(o){if("1"==t.command){t.total.length>100&&(t.total.pop(),t.total.pop());var c=o.Data,i=JSON.parse(c).Topic;t.topicVal!==i&&"全部"!=t.topicVal||(t.total.unshift(" "),t.total.unshift(t.$formatDate(new Date)+"------\x3e"+c))}},this.getTopicOpt()},methods:{getTopicOpt:function(){var t=this;this.$get("rule/getTopics").then((function(o){o.Successful&&o.Data&&(t.topicOpt=["全部"].concat(o.Data),""!==t.paramsTopic?t.topicVal=t.paramsTopic:t.topicVal=t.topicOpt[0])}))},clickTopic:function(t){},start:function(t){}}},e=(c("281a"),c("2877")),a=Object(e.a)(i,(function(){var t=this,o=t.$createElement,c=t._self._c||o;return c("div",{staticStyle:{position:"relative",height:"calc(100% - 20px)","box-sizing":"border-box"}},[c("div",{staticStyle:{margin:"20px"}},[c("el-switch",{staticStyle:{display:"inline-block"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"开始","active-value":"1","inactive-value":"0","inactive-text":"暂停"},on:{change:function(o){return t.start(t.command)}},model:{value:t.command,callback:function(o){t.command=o},expression:"command"}}),c("span",{staticStyle:{margin:"0 10px 0 20px","vertical-align":"center"}},[t._v("Topic: ")]),c("el-select",{attrs:{placeholder:"请选择",size:"mini"},on:{change:t.clickTopic},model:{value:t.topicVal,callback:function(o){t.topicVal=o},expression:"topicVal"}},t._l(t.topicOpt,(function(t){return c("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),c("div",{staticClass:"total-content"},[c("ul",{staticStyle:{background:"black",color:"white",height:"100%",overflow:"auto"},attrs:{id:"ul"}},t._l(t.total,(function(o,i){return c("li",{key:i},[t._v(t._s(o)),c("br")])})),0)])])}),[],!1,null,"26dc4f3a",null);o.default=a.exports},66978:function(t,o,c){}}]);